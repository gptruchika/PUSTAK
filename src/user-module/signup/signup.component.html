<div class="signup-form-container">
  <mat-card class="signup-form-container">
  <mat-header *ngIf="!isLoggedIn"><h2>Sign Up</h2></mat-header>
  <mat-header *ngIf="isLoggedIn"><h2>Edit Profile</h2></mat-header>
  <mat-content>
    <form [formGroup]="profileForm" (ngSubmit)="isLoggedIn? onUpdate() : onSubmit() ">
      <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>UserName</mat-label>
        <input matInput formControlName="username" required>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('username')?.invalid && profileForm.get('username')?.touched">Name is required</mat-error>
        </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" [disabled]="isLoggedIn" required email>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('email')?.touched && profileForm.get('email')?.invalid">Email is required</mat-error>
        </div>

        <div class="form-group">
          <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <input matInput formControlName="password" type="password" required>
          </mat-form-field>
          <mat-error *ngIf="profileForm.get('password')?.touched && profileForm.get('password')?.invalid">Password is required</mat-error>
          <mat-error *ngIf="profileForm.get('password')?.hasError('pattern') || profileForm.get('password')?.hasError('minlength') || profileForm.get('password')?.hasError('maxlength') ">Password must be of min 8 and max 20 character and also contain one special character</mat-error>
          </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>Contact</mat-label>
        <input matInput formControlName="contact" minlength="10">
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('contact')?.hasError('minlength') || profileForm.get('password')?.hasError('maxlength')">Enter Valid Number</mat-error>
        </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>Gender</mat-label>
        <mat-select formControlName="gender" required>
        <mat-option value="male">Male</mat-option>
        <mat-option value="female">Female</mat-option>
        <mat-option value="other">Other</mat-option>
        </mat-select>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('gender')?.invalid && profileForm.get('gender')?.touched">Gender is required</mat-error>
        </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>Address</mat-label>
        <input matInput formControlName="address" required>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('address')?.invalid && profileForm.get('address')?.touched">Address is required</mat-error>
        </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>State</mat-label>
        <input matInput formControlName="state" required>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('state')?.invalid && profileForm.get('state')?.touched">State is required</mat-error>
        </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" required>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('city')?.invalid && profileForm.get('city')?.touched">City is required</mat-error>
        </div>
        
        <div class="form-group">
        <mat-form-field appearance="fill">
        <mat-label>Postal Code</mat-label>
        <input matInput formControlName="postalCode" required>
        </mat-form-field>
        <mat-error *ngIf="profileForm.get('postalCode')?.touched && profileForm.get('postalCode')?.invalid">Postal Code is required</mat-error>
        <mat-error *ngIf="profileForm.get('postalCode')?.hasError('pattern')">Enter Valid Postal Code</mat-error>
      </div>
      <span *ngIf="!isLoggedIn">Already Have an account <a href="login"> Click Here </a> <br> </span>
      <div *ngIf="!isLoggedIn" style="align-items: center;">
      <button class="btn btn-primary btn-container" type="submit" mat-raised-button [disabled]="profileForm.invalid">Sign Up</button>
      </div>
      <div *ngIf="isLoggedIn" style="align-items: center;">
        <button class="btn btn-primary btn-container" type="submit" mat-raised-button>Update Profile</button>
      </div>
      </form>
  </mat-content>
  </mat-card>
  </div>